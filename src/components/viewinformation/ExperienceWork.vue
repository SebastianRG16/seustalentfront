<template>
    <div class="w-full px-4 bg-[#B4EDF5] max-sm:rounded-lg py-8 max-sm:mt-4">
        <div class="w-full flex-col max-w-7xl mx-auto">
            <div class="text-[#023D6A] text-[24px] flex justify-between">
                <p>
                    Experiencia laboral
                </p>
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <rect x="0.5" y="0.5" width="23" height="23" rx="11.5" stroke="#333333" />
                    <path fill-rule="evenodd" clip-rule="evenodd"
                        d="M12.4411 6.56772C12.8046 6.20421 13.2976 6 13.8117 6C14.8822 6 15.75 6.86781 15.75 7.93831C15.75 8.45239 15.5458 8.94541 15.1823 9.30891L8.86018 15.631C8.78399 15.7072 8.68066 15.75 8.57292 15.75H6.40625C6.18188 15.75 6 15.5681 6 15.3438V13.1771C6 13.0693 6.0428 12.966 6.11899 12.8898L12.4411 6.56772ZM13.8117 6.8125C13.5131 6.8125 13.2267 6.93111 13.0156 7.14224L12.8037 7.35417L14.3958 8.94631L14.6078 8.73439C14.8189 8.52325 14.9375 8.2369 14.9375 7.93831C14.9375 7.31654 14.4335 6.8125 13.8117 6.8125ZM13.8213 9.52083L12.2292 7.92869L6.8125 13.3454V14.9375H8.40464L13.8213 9.52083Z"
                        fill="#333333" />
                    <path d="M6 16.5H18V17.25H6V16.5Z" fill="#333333" />
                </svg>

            </div>
            <div class="w-full max-lg:flex-col xl:flex xl:gap-8 mt-8">
                <div v-for="(experiences, index) in experience" class="">
                    <div class="bg-[#045480] p-2 rounded-lg">
                        <div class="justify-between flex">
                            <div>
                            </div>
                            <svg width="76" height="32" viewBox="0 0 76 32" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <rect x="1" y="1" width="30" height="30" rx="15" stroke="#EDEEF1" stroke-width="2" />
                                <path fill-rule="evenodd" clip-rule="evenodd"
                                    d="M16.5881 8.75696C17.0728 8.27229 17.7301 8 18.4156 8C19.8429 8 21 9.15708 21 10.5844C21 11.2699 20.7277 11.9272 20.243 12.4119L11.8136 20.8413C11.712 20.9429 11.5742 21 11.4306 21H8.54167C8.24251 21 8 20.7575 8 20.4583V17.5694C8 17.4258 8.05707 17.288 8.15865 17.1864L16.5881 8.75696ZM18.4156 9.08333C18.0175 9.08333 17.6357 9.24148 17.3542 9.52299L17.0716 9.80556L19.1944 11.9284L19.477 11.6458C19.7585 11.3643 19.9167 10.9825 19.9167 10.5844C19.9167 9.75539 19.2446 9.08333 18.4156 9.08333ZM18.4284 12.6944L16.3056 10.5716L9.08333 17.7938V19.9167H11.2062L18.4284 12.6944Z"
                                    fill="#F1E8F1" />
                                <path d="M8 22H24V23H8V22Z" fill="#F1E8F1" />
                                <rect x="45" y="1" width="30" height="30" rx="15" stroke="#EDEEF1" stroke-width="2" />
                                <path fill-rule="evenodd" clip-rule="evenodd"
                                    d="M56 9.75C56 8.23122 57.2312 7 58.75 7H61.25C62.7688 7 64 8.23122 64 9.75V10H67.25C67.6642 10 68 10.3358 68 10.75C68 11.1642 67.6642 11.5 67.25 11.5H66.9595L66.3538 22.4025C66.2728 23.8598 65.0675 25 63.608 25H56.392C54.9325 25 53.7272 23.8598 53.6462 22.4025L53.0405 11.5H52.75C52.3358 11.5 52 11.1642 52 10.75C52 10.3358 52.3358 10 52.75 10H56V9.75ZM54.5428 11.5L55.1439 22.3193C55.1807 22.9817 55.7286 23.5 56.392 23.5H63.608C64.2714 23.5 64.8193 22.9817 64.8561 22.3193L65.4572 11.5H54.5428ZM62.5 10H57.5V9.75C57.5 9.05964 58.0596 8.5 58.75 8.5H61.25C61.9404 8.5 62.5 9.05964 62.5 9.75V10ZM57.75 14C58.1642 14 58.5 14.3358 58.5 14.75V20.25C58.5 20.6642 58.1642 21 57.75 21C57.3358 21 57 20.6642 57 20.25V14.75C57 14.3358 57.3358 14 57.75 14ZM62.25 14C62.6642 14 63 14.3358 63 14.75V20.25C63 20.6642 62.6642 21 62.25 21C61.8358 21 61.5 20.6642 61.5 20.25V14.75C61.5 14.3358 61.8358 14 62.25 14Z"
                                    fill="#F1E8F1" />
                            </svg>

                        </div>
                        <div class="max-sm:mb-2 sm:gap-8 grid grid-cols-1 sm:grid-cols-2">
                            <div class="sm:mb-4 mb-2">
                                <div class="flex gap-2">
                                    <svg width="20" height="20" viewBox="0 0 20 20" fill="none"
                                        xmlns="http://www.w3.org/2000/svg">
                                        <path
                                            d="M5.19961 14.7832C5.37641 13.8741 5.94331 13.0237 6.83116 12.4004C7.7203 11.7762 8.86199 11.4303 10.0494 11.4402C11.2368 11.4501 12.3692 11.8149 13.2422 12.453C14.1137 13.09 14.6594 13.9484 14.8143 14.8594M12.7 7.3C12.7 8.79117 11.4912 10 10 10C8.50883 10 7.3 8.79117 7.3 7.3C7.3 5.80883 8.50883 4.6 10 4.6C11.4912 4.6 12.7 5.80883 12.7 7.3ZM2.8 19H17.2C18.1941 19 19 18.1941 19 17.2V2.8C19 1.80589 18.1941 1 17.2 1H2.8C1.80589 1 1 1.80589 1 2.8V17.2C1 18.1941 1.80589 19 2.8 19Z"
                                            stroke="#0DC6DE" stroke-width="1.4" stroke-linecap="round" />
                                    </svg>


                                    <label class="block text-[#0DC6DE] text-[14px] mb-2">Cargo</label>
                                </div>
                                <div class="text-[#EDEEF1] text-[16px]">
                                    {{ experiences.charge }}
                                </div>
                            </div>
                            <div class="sm:mb-4 mb-2">
                                <div class="flex gap-2">
                                    <svg width="20" height="20" viewBox="0 0 20 20" fill="none"
                                        xmlns="http://www.w3.org/2000/svg">
                                        <path fill-rule="evenodd" clip-rule="evenodd"
                                            d="M5.32378 1H10.6762C10.9337 0.999983 11.1702 0.999966 11.3679 1.01612C11.581 1.03353 11.8142 1.07339 12.0445 1.19074C12.3738 1.35852 12.6415 1.62624 12.8093 1.95552C12.9266 2.18583 12.9665 2.419 12.9839 2.63213C13 2.82981 13 3.06629 13 3.32377L13 7L14.6762 7C14.9337 6.99998 15.1702 6.99997 15.3679 7.01612C15.581 7.03353 15.8142 7.07339 16.0445 7.19074C16.3738 7.35852 16.6415 7.62624 16.8093 7.95552C16.9266 8.18583 16.9665 8.419 16.9839 8.63213C17 8.82981 17 9.06629 17 9.32377L17 17.5H18.25C18.6642 17.5 19 17.8358 19 18.25C19 18.6642 18.6642 19 18.25 19H1.75C1.33579 19 1 18.6642 1 18.25C1 17.8358 1.33579 17.5 1.75 17.5H3V3.35C3 3.34124 3 3.3325 3 3.32379C2.99998 3.0663 2.99996 2.82982 3.01612 2.63213C3.03353 2.419 3.07339 2.18583 3.19074 1.95552C3.35852 1.62624 3.62623 1.35852 3.95552 1.19074C4.18582 1.07339 4.419 1.03353 4.63213 1.01612C4.82981 0.999966 5.0663 0.999983 5.32378 1ZM4.5 17.5H11.5V3.35C11.5 3.0576 11.4994 2.88341 11.4889 2.75428C11.4824 2.67547 11.4739 2.64234 11.4712 2.63346C11.4477 2.58882 11.4112 2.55235 11.3665 2.52883C11.3577 2.52607 11.3245 2.51757 11.2457 2.51114C11.1166 2.50059 10.9424 2.5 10.65 2.5H5.35C5.0576 2.5 4.8834 2.50059 4.75428 2.51114C4.67547 2.51757 4.64234 2.52607 4.63346 2.52883C4.58882 2.55235 4.55234 2.58883 4.52882 2.63346C4.52607 2.64234 4.51757 2.67547 4.51113 2.75428C4.50058 2.88341 4.5 3.0576 4.5 3.35V17.5ZM4.52973 2.63088C4.52974 2.63091 4.52956 2.63144 4.52917 2.63239L4.52973 2.63088ZM4.63087 2.52973C4.63085 2.52972 4.63132 2.52952 4.63239 2.52917L4.63087 2.52973ZM11.3691 2.52973C11.3691 2.52974 11.3686 2.52957 11.3676 2.52918L11.3691 2.52973ZM11.4703 2.63088C11.4703 2.63085 11.4705 2.63132 11.4708 2.63236L11.4703 2.63088ZM13 8.5V17.5H15.5V9.35C15.5 9.0576 15.4994 8.88341 15.4889 8.75428C15.4824 8.67547 15.4739 8.64235 15.4712 8.63347C15.4477 8.58883 15.4112 8.55235 15.3665 8.52883C15.3577 8.52607 15.3245 8.51757 15.2457 8.51114C15.1166 8.50059 14.9424 8.5 14.65 8.5H13ZM15.3691 8.52973C15.3691 8.52974 15.3686 8.52957 15.3676 8.52917L15.3691 8.52973ZM15.4703 8.63088C15.4703 8.63083 15.4705 8.63131 15.4708 8.6324L15.4703 8.63088ZM6 5.75C6 5.33579 6.33579 5 6.75 5H9.25C9.66421 5 10 5.33579 10 5.75C10 6.16422 9.66421 6.5 9.25 6.5H6.75C6.33579 6.5 6 6.16422 6 5.75ZM6 10C6 9.58579 6.33579 9.25 6.75 9.25H9.25C9.66421 9.25 10 9.58579 10 10C10 10.4142 9.66421 10.75 9.25 10.75H6.75C6.33579 10.75 6 10.4142 6 10ZM6 14.25C6 13.8358 6.33579 13.5 6.75 13.5H9.25C9.66421 13.5 10 13.8358 10 14.25C10 14.6642 9.66421 15 9.25 15H6.75C6.33579 15 6 14.6642 6 14.25Z"
                                            fill="#0DC6DE" />
                                    </svg>


                                    <label class="block text-[#0DC6DE] text-[14px] mb-2">Empresa</label>
                                </div>
                                <div class="text-[#EDEEF1] text-[16px]">
                                    {{ experiences.company }}
                                </div>
                            </div>
                            <div class="sm:mb-4">
                                <div class="flex gap-2">
                                    <svg width="20" height="20" viewBox="0 0 20 20" fill="none"
                                        xmlns="http://www.w3.org/2000/svg">
                                        <path fill-rule="evenodd" clip-rule="evenodd"
                                            d="M6.75 1C7.16421 1 7.5 1.33579 7.5 1.75V3H12.5V1.75C12.5 1.33579 12.8358 1 13.25 1C13.6642 1 14 1.33579 14 1.75V3H16.25C17.7688 3 19 4.23122 19 5.75V16.25C19 17.7688 17.7688 19 16.25 19H3.75C2.23122 19 1 17.7688 1 16.25V5.75C1 4.23122 2.23122 3 3.75 3H6V1.75C6 1.33579 6.33579 1 6.75 1ZM6 4.5H3.75C3.05964 4.5 2.5 5.05964 2.5 5.75V8H17.5V5.75C17.5 5.05964 16.9404 4.5 16.25 4.5H14V5.25C14 5.66421 13.6642 6 13.25 6C12.8358 6 12.5 5.66421 12.5 5.25V4.5H7.5V5.25C7.5 5.66421 7.16421 6 6.75 6C6.33579 6 6 5.66421 6 5.25V4.5ZM17.5 9.5H2.5V16.25C2.5 16.9404 3.05964 17.5 3.75 17.5H16.25C16.9404 17.5 17.5 16.9404 17.5 16.25V9.5Z"
                                            fill="#0DC6DE" />
                                    </svg>


                                    <label class="block text-[#0DC6DE] text-[14px] mb-2">Tiempo de duración</label>
                                </div>
                                <div class="text-[#EDEEF1] text-[16px]">
                                    {{ experiences.dateInit }} - {{ experiences.dateTerminate }}
                                </div>
                            </div>
                        </div>
                    </div>
                    <div v-if="index < experience.length - 1"
                        class="xl:hidden border-t-2 border-dashed border-[#9E9E9E] my-4"></div>
                </div>
            </div>
        </div>
    </div>
</template>

<script>
import axios from "axios";
import { useRouter } from "vue-router";

export default {
    data() {
        return {
            experience: {},
            userId: 1,
        };
    },
    methods: {
        async fecthExperience() {
            try {
                const response = await axios.get(`http://localhost:3000/workexperience/${this.userId}`);
                this.experience = response.data.works
            } catch (error) {
                console.error('Error al recibir los datos:', error);
                alert('Hubo un error al recibir los datos');
            }
        },
    },
}
</script>